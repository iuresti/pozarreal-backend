<div *ngIf="user">

  <nav class="m-0 navbar navbar-expand-md navbar-dark bg-dark">

    <img [src]="user.picture" style="width: 40px">

    <button (click)="toggleMenu()" aria-controls="appNavigation" aria-expanded="!isCollapsed"
            aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right" type="button">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div [ngbCollapse]="isCollapsed" class="collapse navbar-collapse" id="appNavigation">
      <div class="navbar-nav mr-auto">
        <a (click)="toggleMenu()" class="nav-item nav-link" routerLink="/account"
           routerLinkActive="active">Mi Cuenta</a>
        <a (click)="toggleMenu()" *ngIf="userHasRoles(['ROLE_ADMIN', 'ROLE_REPRESENTATIVE'])" class="nav-item nav-link"
           routerLink="/streets" routerLinkActive="active">Circuitos</a>
        <a (click)="toggleMenu()" *ngIf="userHasRoles(['ROLE_ADMIN', 'ROLE_REPRESENTATIVE'])" class="nav-item nav-link"
           routerLink="/payments" routerLinkActive="active">Pagos</a>
        <a (click)="toggleMenu()" *ngIf="userHasRoles(['ROLE_CHIPS_UPDATER'])" class="nav-item nav-link"
           routerLink="/chipsUpdates" routerLinkActive="active">Actualizaci√≥n de
          chips</a>
        <a (click)="toggleMenu()" *ngIf="userHasRoles(['ROLE_SCHOOL_MANAGER'])" class="nav-item nav-link"
           routerLink="/classes" routerLinkActive="active">Clases</a>
        <a (click)="toggleMenu()" *ngIf="userHasRoles(['ROLE_USER_MANAGER'])" class="nav-item nav-link"
           routerLink="/users" routerLinkActive="active">Usuarios</a>
        <a class="nav-item nav-link" href="/logout">Salir</a>
      </div>
      <a (click)="toggleMenu()" class="nav-item nav-link" routerLink="/notifications" routerLinkActive="active">
        <i class="bi bi-bell-fill bell"></i>
      </a>
    </div>

  </nav>

  <router-outlet></router-outlet>

</div>


<div *ngIf="failedLogin" class="container">
  <div class="row mt-3">
    <div class="col col-3">Usuario:</div>
    <div class="col col-9"><input #userInput class="form-control" type="text"></div>
  </div>
  <div class="row mt-2">
    <div class="col col-3">Password:</div>
    <div class="col col-9"><input #pwdInput class="form-control" type="password"></div>
  </div>
  <div class="row mt-2">
    <div class="col col-10 ">

    </div>
    <div class="col col-2 text-right">
      <button (click)="apiLogin(userInput.value, pwdInput.value)" class="btn btn-success">Entrar
      </button>
    </div>
  </div>
</div>
